# FlowMaster Docker éƒ¨ç½²æŒ‡å—

FlowMaster å·¥ä½œæµç®¡ç†ç³»ç»Ÿ Docker éƒ¨ç½²æ–¹æ¡ˆï¼Œæ”¯æŒå¿«é€Ÿéƒ¨ç½²å’Œå®Œæ•´éƒ¨ç½²ä¸¤ç§æ¨¡å¼ã€‚

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Docker 20.10+
- Docker Compose 2.0+
- è‡³å°‘ 4GB å¯ç”¨å†…å­˜
- è‡³å°‘ 10GB å¯ç”¨ç£ç›˜ç©ºé—´

### ä¸€é”®éƒ¨ç½²
```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/your-org/flowmaster.git
cd flowmaster

# å¿«é€Ÿå¯åŠ¨
make -f Makefile.docker quick-start

# æŸ¥çœ‹çŠ¶æ€
make -f Makefile.docker docker-status

# å¥åº·æ£€æŸ¥
make -f Makefile.docker docker-health
```

## ğŸ“‹ éƒ¨ç½²æ¨¡å¼

### 1. æ ¸å¿ƒæœåŠ¡éƒ¨ç½² (æ¨è)
åŒ…å«æ ¸å¿ƒä¸šåŠ¡åŠŸèƒ½ï¼Œèµ„æºå ç”¨è¾ƒå°‘ï¼š

```bash
# æ„å»ºå¹¶å¯åŠ¨æ ¸å¿ƒæœåŠ¡
make -f Makefile.docker docker-build
make -f Makefile.docker docker-start

# æˆ–è€…ä½¿ç”¨è„šæœ¬
./docker-deploy.sh start
```

**åŒ…å«æœåŠ¡ï¼š**
- MySQL 8.0 (æ•°æ®åº“)
- Redis 7 (ç¼“å­˜)
- Nacos (æœåŠ¡æ³¨å†Œä¸­å¿ƒ)
- 5ä¸ªåç«¯å¾®æœåŠ¡
- 3ä¸ªå‰ç«¯åº”ç”¨

### 2. å®Œæ•´æœåŠ¡éƒ¨ç½²
åŒ…å«ç›‘æ§ã€æ—¥å¿—ã€æ¶ˆæ¯é˜Ÿåˆ—ç­‰å®Œæ•´åŠŸèƒ½ï¼š

```bash
# æ„å»ºå¹¶å¯åŠ¨å®Œæ•´æœåŠ¡
make -f Makefile.docker docker-build
make -f Makefile.docker docker-start-full

# æˆ–è€…ä½¿ç”¨è„šæœ¬
./docker-deploy.sh start-full
```

**é¢å¤–åŒ…å«ï¼š**
- MongoDB (æ—¥å¿—å­˜å‚¨)
- Elasticsearch + Kibana (æ—¥å¿—åˆ†æ)
- Kafka + Zookeeper (æ¶ˆæ¯é˜Ÿåˆ—)
- RabbitMQ (å¯é æ¶ˆæ¯)
- MinIO (å¯¹è±¡å­˜å‚¨)
- Zipkin (é“¾è·¯è¿½è¸ª)
- Prometheus + Grafana (ç›‘æ§)

## ğŸ”§ ç®¡ç†å‘½ä»¤

### ä½¿ç”¨ Makefile
```bash
# æŸ¥çœ‹æ‰€æœ‰å‘½ä»¤
make -f Makefile.docker help

# æ„å»ºé•œåƒ
make -f Makefile.docker docker-build

# å¯åŠ¨æœåŠ¡
make -f Makefile.docker docker-start

# æŸ¥çœ‹çŠ¶æ€
make -f Makefile.docker docker-status

# æŸ¥çœ‹æ—¥å¿—
make -f Makefile.docker docker-logs

# å¥åº·æ£€æŸ¥
make -f Makefile.docker docker-health

# åœæ­¢æœåŠ¡
make -f Makefile.docker docker-stop

# æ¸…ç†èµ„æº
make -f Makefile.docker docker-clean
```

### ä½¿ç”¨éƒ¨ç½²è„šæœ¬
```bash
# æŸ¥çœ‹å¸®åŠ©
./docker-deploy.sh help

# æ„å»ºé•œåƒ
./docker-deploy.sh build

# å¯åŠ¨æ ¸å¿ƒæœåŠ¡
./docker-deploy.sh start

# å¯åŠ¨å®Œæ•´æœåŠ¡
./docker-deploy.sh start-full

# æŸ¥çœ‹çŠ¶æ€
./docker-deploy.sh status

# æŸ¥çœ‹æ—¥å¿—
./docker-deploy.sh logs
./docker-deploy.sh logs user  # æŸ¥çœ‹ç‰¹å®šæœåŠ¡æ—¥å¿—

# å¥åº·æ£€æŸ¥
./docker-deploy.sh health-check

# å¤‡ä»½æ•°æ®
./docker-deploy.sh backup

# æ¢å¤æ•°æ®
./docker-deploy.sh restore ./backups/20240101_120000

# åœæ­¢æœåŠ¡
./docker-deploy.sh stop

# æ¸…ç†èµ„æº
./docker-deploy.sh cleanup
```

## ğŸŒ æœåŠ¡è®¿é—®

### åº”ç”¨æœåŠ¡
- **Webåº”ç”¨**: http://localhost:3000
- **ç®¡ç†åå°**: http://localhost:3003
- **å·¥ä½œæµè®¾è®¡å™¨**: http://localhost:3001
- **APIç½‘å…³**: http://localhost:8083

### åŸºç¡€è®¾æ–½æœåŠ¡
- **MySQL**: localhost:3306 (root/flowmaster123)
- **Redis**: localhost:6379 (flowmaster123)
- **Nacosæ§åˆ¶å°**: http://localhost:8848/nacos (nacos/nacos123)

### ç›‘æ§æœåŠ¡ (å®Œæ•´éƒ¨ç½²)
- **Grafana**: http://localhost:3000 (admin/flowmaster123)
- **Prometheus**: http://localhost:9090
- **Zipkin**: http://localhost:9411
- **Kibana**: http://localhost:5601
- **RabbitMQç®¡ç†**: http://localhost:15672 (flowmaster/flowmaster123)
- **MinIOæ§åˆ¶å°**: http://localhost:9001 (flowmaster/flowmaster123)

## ğŸ“Š æœåŠ¡æ¶æ„

### æ ¸å¿ƒæœåŠ¡æ¶æ„
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Webåº”ç”¨       â”‚    â”‚   ç®¡ç†åå°      â”‚    â”‚   å·¥ä½œæµè®¾è®¡å™¨   â”‚
â”‚   (3000)        â”‚    â”‚   (3003)        â”‚    â”‚   (3001)        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                       â”‚                       â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   APIç½‘å…³       â”‚
                    â”‚   (8083)        â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                       â”‚                       â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ç”¨æˆ·æœåŠ¡      â”‚    â”‚   è®¤è¯æœåŠ¡      â”‚    â”‚   å·¥ä½œæµæœåŠ¡    â”‚
â”‚   (8080)        â”‚    â”‚   (8081)        â”‚    â”‚   (8082)        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                       â”‚                       â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   ç›‘æ§æœåŠ¡      â”‚
                    â”‚   (8084)        â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚                       â”‚                       â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     MySQL       â”‚    â”‚     Redis       â”‚    â”‚     Nacos       â”‚
â”‚   (3306)        â”‚    â”‚   (6379)        â”‚    â”‚   (8848)        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å®Œæ•´æœåŠ¡æ¶æ„
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        å‰ç«¯åº”ç”¨å±‚                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   Webåº”ç”¨       â”‚   ç®¡ç†åå°      â”‚   å·¥ä½œæµè®¾è®¡å™¨               â”‚
â”‚   (3000)        â”‚   (3003)        â”‚   (3001)                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   APIç½‘å…³       â”‚
                    â”‚   (8083)        â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        å¾®æœåŠ¡å±‚                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   ç”¨æˆ·æœåŠ¡      â”‚   è®¤è¯æœåŠ¡      â”‚   å·¥ä½œæµæœåŠ¡                â”‚
â”‚   (8080)        â”‚   (8081)        â”‚   (8082)                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   ç›‘æ§æœåŠ¡      â”‚                 â”‚                             â”‚
â”‚   (8084)        â”‚                 â”‚                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                 â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        åŸºç¡€è®¾æ–½å±‚                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚     MySQL       â”‚     Redis       â”‚     Nacos                   â”‚
â”‚   (3306)        â”‚   (6379)        â”‚   (8848)                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚    MongoDB      â”‚ Elasticsearch    â”‚     Kafka                   â”‚
â”‚   (27017)       â”‚   (9200)        â”‚   (9092)                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚    RabbitMQ     â”‚     MinIO       â”‚     Zipkin                  â”‚
â”‚   (5672)        â”‚   (9000)        â”‚   (9411)                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   Prometheus    â”‚    Grafana      â”‚     Kibana                  â”‚
â”‚   (9090)        â”‚   (3000)        â”‚   (5601)                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”§ é…ç½®è¯´æ˜

### ç¯å¢ƒå˜é‡
æ‰€æœ‰æœåŠ¡éƒ½é€šè¿‡ç¯å¢ƒå˜é‡è¿›è¡Œé…ç½®ï¼Œä¸»è¦é…ç½®é¡¹ï¼š

```bash
# æ•°æ®åº“é…ç½®
SPRING_DATASOURCE_URL=jdbc:mysql://mysql:3306/flowmaster_user
SPRING_DATASOURCE_USERNAME=flowmaster
SPRING_DATASOURCE_PASSWORD=flowmaster123

# Redisé…ç½®
SPRING_REDIS_HOST=redis
SPRING_REDIS_PORT=6379
SPRING_REDIS_PASSWORD=flowmaster123

# Nacosé…ç½®
SPRING_CLOUD_NACOS_DISCOVERY_SERVER_ADDR=nacos:8848
SPRING_CLOUD_NACOS_CONFIG_SERVER_ADDR=nacos:8848
SPRING_CLOUD_NACOS_USERNAME=nacos
SPRING_CLOUD_NACOS_PASSWORD=nacos123

# JWTé…ç½®
JWT_SECRET=FlowMasterJWTKey1234567890
```

### ç«¯å£æ˜ å°„
| æœåŠ¡ | ç«¯å£ | è¯´æ˜ |
|------|------|------|
| Webåº”ç”¨ | 3000 | ä¸»åº”ç”¨å‰ç«¯ |
| ç®¡ç†åå° | 3003 | ç®¡ç†åå°å‰ç«¯ |
| å·¥ä½œæµè®¾è®¡å™¨ | 3001 | å·¥ä½œæµè®¾è®¡å™¨å‰ç«¯ |
| ç”¨æˆ·æœåŠ¡ | 8080 | ç”¨æˆ·ç®¡ç†æœåŠ¡ |
| è®¤è¯æœåŠ¡ | 8081 | è®¤è¯æˆæƒæœåŠ¡ |
| å·¥ä½œæµæœåŠ¡ | 8082 | å·¥ä½œæµå¼•æ“æœåŠ¡ |
| APIç½‘å…³ | 8083 | ç½‘å…³æœåŠ¡ |
| ç›‘æ§æœåŠ¡ | 8084 | ç›‘æ§æœåŠ¡ |
| MySQL | 3306 | æ•°æ®åº“ |
| Redis | 6379 | ç¼“å­˜ |
| Nacos | 8848 | æœåŠ¡æ³¨å†Œä¸­å¿ƒ |

## ğŸ“ˆ ç›‘æ§å’Œæ—¥å¿—

### å¥åº·æ£€æŸ¥
æ‰€æœ‰æœåŠ¡éƒ½é…ç½®äº†å¥åº·æ£€æŸ¥ç«¯ç‚¹ï¼š
- åç«¯æœåŠ¡: `http://localhost:ç«¯å£/actuator/health`
- å‰ç«¯åº”ç”¨: `http://localhost:ç«¯å£/`

### æ—¥å¿—æŸ¥çœ‹
```bash
# æŸ¥çœ‹æ‰€æœ‰æœåŠ¡æ—¥å¿—
make -f Makefile.docker docker-logs

# æŸ¥çœ‹ç‰¹å®šæœåŠ¡æ—¥å¿—
make -f Makefile.docker docker-logs-user
make -f Makefile.docker docker-logs-auth
make -f Makefile.docker docker-logs-workflow

# ä½¿ç”¨è„šæœ¬æŸ¥çœ‹æ—¥å¿—
./docker-deploy.sh logs
./docker-deploy.sh logs user
```

### ç›‘æ§é¢æ¿ (å®Œæ•´éƒ¨ç½²)
- **Grafana**: ç³»ç»Ÿç›‘æ§é¢æ¿
- **Prometheus**: æŒ‡æ ‡æ”¶é›†
- **Zipkin**: é“¾è·¯è¿½è¸ª
- **Kibana**: æ—¥å¿—åˆ†æ

## ğŸ”’ å®‰å…¨é…ç½®

### é»˜è®¤å¯†ç 
| æœåŠ¡ | ç”¨æˆ·å | å¯†ç  |
|------|--------|------|
| MySQL | root | flowmaster123 |
| MySQL | flowmaster | flowmaster123 |
| Redis | - | flowmaster123 |
| Nacos | nacos | nacos123 |
| Grafana | admin | flowmaster123 |
| RabbitMQ | flowmaster | flowmaster123 |
| MinIO | flowmaster | flowmaster123 |

### å®‰å…¨å»ºè®®
1. **ç”Ÿäº§ç¯å¢ƒ**: ä¿®æ”¹æ‰€æœ‰é»˜è®¤å¯†ç 
2. **ç½‘ç»œå®‰å…¨**: é…ç½®é˜²ç«å¢™è§„åˆ™
3. **æ•°æ®åŠ å¯†**: å¯ç”¨TLSåŠ å¯†
4. **è®¿é—®æ§åˆ¶**: é™åˆ¶ç®¡ç†ç«¯å£è®¿é—®

## ğŸš¨ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

#### 1. æœåŠ¡å¯åŠ¨å¤±è´¥
```bash
# æ£€æŸ¥DockerçŠ¶æ€
docker ps -a

# æŸ¥çœ‹æœåŠ¡æ—¥å¿—
docker-compose logs service-name

# é‡å¯æœåŠ¡
docker-compose restart service-name
```

#### 2. æ•°æ®åº“è¿æ¥å¤±è´¥
```bash
# æ£€æŸ¥MySQLçŠ¶æ€
docker exec flowmaster-mysql mysql -u root -pflowmaster123 -e "SHOW DATABASES;"

# é‡å¯MySQL
docker-compose restart mysql
```

#### 3. ç«¯å£å†²çª
```bash
# æ£€æŸ¥ç«¯å£å ç”¨
netstat -tulpn | grep :3306

# ä¿®æ”¹docker-compose.ymlä¸­çš„ç«¯å£æ˜ å°„
```

#### 4. å†…å­˜ä¸è¶³
```bash
# æ£€æŸ¥Dockerèµ„æºä½¿ç”¨
docker stats

# æ¸…ç†æœªä½¿ç”¨çš„èµ„æº
docker system prune -f
```

### æ—¥å¿—åˆ†æ
```bash
# æŸ¥çœ‹é”™è¯¯æ—¥å¿—
docker-compose logs | grep ERROR

# æŸ¥çœ‹ç‰¹å®šæ—¶é—´æ®µçš„æ—¥å¿—
docker-compose logs --since="2024-01-01T00:00:00" --until="2024-01-01T23:59:59"
```

## ğŸ“¦ æ•°æ®ç®¡ç†

### æ•°æ®å¤‡ä»½
```bash
# å¤‡ä»½æ•°æ®åº“
make -f Makefile.docker db-backup

# ä½¿ç”¨è„šæœ¬å¤‡ä»½
./docker-deploy.sh backup
```

### æ•°æ®æ¢å¤
```bash
# æ¢å¤æ•°æ®åº“
make -f Makefile.docker db-restore BACKUP_FILE=backups/mysql_backup_20240101_120000.sql

# ä½¿ç”¨è„šæœ¬æ¢å¤
./docker-deploy.sh restore ./backups/20240101_120000
```

### æ•°æ®æŒä¹…åŒ–
æ‰€æœ‰é‡è¦æ•°æ®éƒ½é€šè¿‡Docker volumesæŒä¹…åŒ–ï¼š
- `mysql_data`: MySQLæ•°æ®
- `redis_data`: Redisæ•°æ®
- `nacos_data`: Nacosé…ç½®æ•°æ®
- `mongodb_data`: MongoDBæ•°æ®
- `elasticsearch_data`: Elasticsearchæ•°æ®
- `prometheus_data`: Prometheusæ•°æ®
- `grafana_data`: Grafanaé…ç½®æ•°æ®

## ğŸ”„ æ›´æ–°å’Œç»´æŠ¤

### æ›´æ–°æœåŠ¡
```bash
# åœæ­¢æœåŠ¡
make -f Makefile.docker docker-stop

# é‡æ–°æ„å»ºé•œåƒ
make -f Makefile.docker docker-build

# å¯åŠ¨æœåŠ¡
make -f Makefile.docker docker-start
```

### æ¸…ç†ç»´æŠ¤
```bash
# æ¸…ç†æœªä½¿ç”¨çš„é•œåƒ
docker image prune -f

# æ¸…ç†æœªä½¿ç”¨çš„å®¹å™¨
docker container prune -f

# æ¸…ç†æœªä½¿ç”¨çš„ç½‘ç»œ
docker network prune -f

# æ¸…ç†æœªä½¿ç”¨çš„å·
docker volume prune -f

# å…¨é¢æ¸…ç†
docker system prune -a -f
```

## ğŸ“ æŠ€æœ¯æ”¯æŒ

### è·å–å¸®åŠ©
- æŸ¥çœ‹æ—¥å¿—: `make -f Makefile.docker docker-logs`
- å¥åº·æ£€æŸ¥: `make -f Makefile.docker docker-health`
- æœåŠ¡çŠ¶æ€: `make -f Makefile.docker docker-status`

### è”ç³»æ–¹å¼
- é¡¹ç›®ä¸»é¡µ: https://github.com/your-org/flowmaster
- é—®é¢˜åé¦ˆ: https://github.com/your-org/flowmaster/issues
- é‚®ç®±: flowmaster@example.com

---

**FlowMaster Docker éƒ¨ç½²** - è®©å·¥ä½œæµç®¡ç†æ›´ç®€å•ã€æ›´é«˜æ•ˆï¼ ğŸš€
